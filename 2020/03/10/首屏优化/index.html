<!DOCTYPE html><html><head><meta name="description" content="web 前端开发"/><meta name="author" content="Fantasy"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta http-equiv="XUA_Compatible" content="IE=edge"/><meta name="sw" content="true"/><meta name="ga" content="UA-101492756-1"/><meta name="ba" content="044e5dc9f3bc0a3b3042d15a4bbd8cae"/><link rel="icon" href="/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"/><link rel="stylesheet" href="https://unpkg.com/firement@0.0.5/dist/style.css"/><link rel="stylesheet" href="/css/layout.css"/><title>幻想❤乡 - 首屏优化</title><meta name="generator" content="Hexo 5.0.0"></head><body><nav class="simple-layout-nav"><div class="simple-navbar"><div class="avatar-box"><a class="avatar-img" href="/"><img src="/imgs/avatar.jpg" alt="" srcset=""/></a><a class="info" href="/"><h3 class="author">Fantasy</h3><small class="subtitle">累了，就来这里歇歇</small></a></div><div class="menu"><span class="home"><a href="/"><i class="fa fa-home"></i>主页</a></span><span class="archives"><a href="/archives"><i class="fa fa-archive"></i>归档</a></span><span class="tags"><a href="/tags"><i class="fa fa-tag"></i>标签</a></span></div><div class="links"><span class="item"><a href="https://github.com//0x-jerry" target="_blank" rel="noopener"><i class="fa fa-github"></i><span>Github</span></a></span><span class="item"><a href="mailto:x.li.gem@gmail.com" target="_blank" rel="noopener"><i class="fa fa-envelope"></i><span>Email</span></a></span></div></div></nav><div class="simple-layout-content"><div class="simple-post"><h1 class="title">首屏优化</h1><p class="post-meta"><span class="meta date">2020-03-10</span><span class="meta license"><a alt="CC BY-NC 4.0" href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" target="_blank">CC BY-NC 4.0</a></span></p><div class="markdown-content" id="post-content"><p>首屏优化，主要考虑怎么减少首页加载的时间。那么什么是可以减少的呢？</p>
<p>那么 怎么考虑 这个问题呢？那就从用户有什么开始吧，毕竟是用户在体验呢。</p>
<p>用户有什么呢？手机？电脑？浏览器？网络？</p>
<p>那么就从这几个方面开始思考吧。</p>
<a id="more"></a>
<h2 id="从那些方面减少首屏时间">从那些方面减少首屏时间</h2>
<ol>
<li>手机 或者电脑，这个我们管不着，pass</li>
<li>浏览器，这个我们也管不着，pass</li>
<li>网络，这个可以有，我们可以减少下载的东西，那么就加快了</li>
</ol>
<p>那么从用户的角度来看的话，就只有网络这里的减少下载的大小可以优化了</p>
<p>那么用 怎么减少下载的大小呢？</p>
<ol>
<li>压缩，把写好的代码，打包压缩，那么文件大小就变小了，这里就用到 webpack，rollup 这些工具</li>
<li>服务器资源压缩，使用 gzip 压缩传输，这里大小又变小了</li>
</ol>
<p>那么从 程序员 的角度呢？</p>
<p>网络是有 连接时间 的，那么减少连接数量，就可以减少用户下载的时间了。所以，这里可以</p>
<ol>
<li>合并多个 js 文件为一个 js 文件</li>
<li>合并多个 css 文件为一个 css 文件</li>
</ol>
<p>这样，连接数量就减少了，时间也就减少了</p>
<p>那么还有什么地方可以减少呢？</p>
<p>从业务的角度思考，是不是所有的代码必须在下载的时候加载呢？</p>
<p>例如首屏看不到的内容，是不是可以推迟加载？是的，因为看不到嘛，你下下来也，用户也看不到呀，所以，初了首屏的内容，其它的内容都可以用异步加载的方式下载，这个首屏的下载数据量又变少了</p>
<p>如果做到极致的优化的话，那么可以第一次加载可以只下载首屏需要的 html,css,js 其它的 html,css,js 都在首屏加载完了之后异步下载即可</p>
<p>那么有没有方法再减少呢？</p>
<p>有，cdn，因为用户直接连接我们自己的服务器，速度肯定比从 cdn 下载慢。所以我们可以把 静态资源(html,css,js 等)部署到 cdn，这样，用户下载的速度又增加了，时间又减少了</p>
<p>还有没有其它方法呢？</p>
<p>嗯…暂时只想到这些，想到了再补充吧</p>
<h2 id="总结">总结</h2>
<p>总结一下，优化的方式有：</p>
<ol>
<li>打包代码，减少下载的文件数量以及文件大小，为了减少连接次数</li>
<li>服务器开启 gzip，压缩文件大小，减少下载时间</li>
<li>只加载首屏代码，减少首次下载的文件大小</li>
<li>部署 cdn，减少用户下载时间</li>
</ol>
</div><hr class="post-end"/><div class="post-footer"><div class="post-license">版权声明：本文使用 <a alt="CC BY-NC 4.0" href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" target="_blank">CC BY-NC 4.0</a> 协议</div><div class="partial-simple-tags"><ul><li><a href="/tags/FrontEnd/"><i class="fa fa-tag"></i>FrontEnd</a></li><li><a href="/tags/Performance/"><i class="fa fa-tag"></i>Performance</a></li></ul></div></div><div id="post-comment"></div></div></div><div id="post-nav"></div><div class="simple-footer"><p> Powered by
  <a class="footer-link" href="https://github.com//0x-jerry/hexo-simple-template" target="_blank" rel="noopener">Simple</a>
  and
  <a class="footer-link" href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>
  , Made By
  <a class="footer-link" href="https://github.com//0x-jerry" target="_blank" rel="noopener">@Fantasy</a>
</p>
</div><script src="/js/index.js"></script></body></html>